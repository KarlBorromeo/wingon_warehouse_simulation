#VRML_SIM R2025a utf8
PROTO ForkLiftCustom [
  field SFVec3f    translation   0.594608 -0.0072609 0.329022
  field SFRotation rotation      0.6727404051106388 -0.7398685233752105 -0.0038620525837176896 0.01781989510417655
  field SFString   robot_name    "forklift_1"
  field SFColor body_color       0.752941 0.109804 0.156863
  field SFBool      supervised    TRUE
]
{
    Robot {
    translation IS translation
    rotation IS rotation
    name IS robot_name
    children [
        Solid {
        translation -0.87 -0.0900021 0.709926
        rotation 1.88116e-06 -1 -9.58979e-09 -1.5708053071795867
        children [
            Shape {
            appearance MetalStainlessSteelCable {
            }
            geometry Mesh {
                url [
                "../meshes/3D Fork Truck - Guide.stl"
                ]
            }
            }
        ]
        name "guide"
        }
        HingeJoint {
        jointParameters HingeJointParameters {
            position 2.4574385340907348e-08
            axis 0 0 1
            anchor 0.856 -0.406 -0.112
        }
        device [
            RotationalMotor {
            name "rear_left_steer_motor"
            }
        ]
        endPoint Solid {
            translation 0.8559925946849121 -0.4059946899510205 -0.11199679702618275
            rotation -0.931779857607733 0.07125409312565309 0.3559622889708316 1.2774528318718372e-05
            children [
            HingeJoint {
                jointParameters HingeJointParameters {
                position 43.84681776910916
                axis 0 1 0
                }
                endPoint Solid {
                translation -4.0976433010189345e-05 -1.0195740011042657e-05 -0.00010542682819105819
                rotation -7.728796584892758e-05 0.9999999956204888 5.277871556402881e-05 6.147705925411941
                children [
                    Pose {
                    rotation 1 0 0 -1.5707953071795862
                    children [
                        Shape {
                        appearance TireRubber {
                        }
                        geometry Mesh {
                            url [
                            "../meshes/3D Fork Truck Wheel.stl"
                            ]
                        }
                        }
                    ]
                    }
                ]
                name "front right wheel"
                boundingObject Pose {
                    translation 0 -0.09 0
                    rotation 1 0 0 -1.5707953071795862
                    children [
                    Shape {
                        appearance TireRubber {
                        }
                        geometry Cylinder {
                        height 0.06
                        radius 0.23
                        }
                    }
                    ]
                }
                physics Physics {
                    mass 1
                }
                }
            }
            ]
            name "rear left steer"
            physics Physics {
            }
        }
        }
        HingeJoint {
        jointParameters HingeJointParameters {
            position -2.7070031844061076e-08
            axis 0 0 1
            anchor 0.856 0.225 -0.112
        }
        device [
            RotationalMotor {
            name "rear_right_steer_motor"
            }
        ]
        endPoint Solid {
            translation 0.8559876542636115 0.22500829687838783 -0.11199839516622737
            rotation 0.2976804932211904 0.013757627747924658 0.9545664207556949 0.0001525319049940637
            children [
            HingeJoint {
                jointParameters HingeJointParameters {
                position 43.8505276166329
                axis 0 1 0
                }
                endPoint Solid {
                translation 4.984401071342038e-06 -1.151983813479965e-06 7.622474227571014e-05
                rotation -0.9677257969528484 1.8098177743084889e-06 -0.25200551959966905 3.1415864660771864
                children [
                    Pose {
                    rotation 1 0 0 -1.5707953071795862
                    children [
                        Shape {
                        appearance TireRubber {
                        }
                        geometry Mesh {
                            url [
                            "../meshes/3D Fork Truck Wheel.stl"
                            ]
                        }
                        }
                    ]
                    }
                ]
                name "front left wheel"
                boundingObject Pose {
                    translation 0 -0.09 0
                    rotation 1 0 0 -1.5707953071795862
                    children [
                    Shape {
                        appearance TireRubber {
                        }
                        geometry Cylinder {
                        height 0.06
                        radius 0.23
                        }
                    }
                    ]
                }
                physics Physics {
                    mass 1
                }
                }
            }
            ]
            name "rear right steer"
            physics Physics {
            }
        }
        }
        HingeJoint {
        jointParameters HingeJointParameters {
            position 23.35902225838144
            axis 0 1 0
            anchor -0.616 -0.406 -0.082
        }
        device [
            RotationalMotor {
            name "front_left_motor"
            }
        ]
        endPoint Solid {
            translation -0.6159950638405164 -0.4060023720920453 -0.08191974361932736
            rotation 4.365077834394397e-05 0.999999998547459 -3.161790251829958e-05 4.509466277005361
            children [
            Pose {
                rotation 1 0 0 -1.5707953071795862
                children [
                Shape {
                    appearance TireRubber {
                    }
                    geometry Mesh {
                    url [
                        "../meshes/3D Fork Truck Wheel.stl"
                    ]
                    }
                }
                ]
            }
            ]
            name "front left wheel"
            boundingObject Pose {
            translation 0 -0.09 0
            rotation 1 0 0 -1.5707953071795862
            children [
                Shape {
                appearance TireRubber {
                }
                geometry Cylinder {
                    height 0.06
                    radius 0.23
                }
                }
            ]
            }
            physics Physics {
            mass 1
            }
        }
        }
        HingeJoint {
        jointParameters HingeJointParameters {
            position 44.0027054803924
            axis 0 1 0
            anchor -0.616 0.227 -0.082
        }
        device [
            RotationalMotor {
            name "front_right_motor"
            }
        ]
        endPoint Solid {
            translation -0.615904878484682 0.22699991012839085 -0.0823628116212082
            rotation -0.999947938188435 3.8676537636138375e-06 0.010203964804883153 3.1416320541659317
            children [
            Pose {
                rotation 1 0 0 -1.5707953071795862
                children [
                Shape {
                    appearance TireRubber {
                    }
                    geometry Mesh {
                    url [
                        "../meshes/3D Fork Truck Wheel.stl"
                    ]
                    }
                }
                ]
            }
            ]
            name "front right wheel"
            boundingObject Pose {
            translation 0 -0.09 0
            rotation 1 0 0 -1.5707953071795862
            children [
                Shape {
                geometry Cylinder {
                    height 0.06
                    radius 0.23
                }
                }
            ]
            }
            physics Physics {
            mass 1
            }
        }
        }
        SliderJoint {
        jointParameters JointParameters {
            position 0.002990192003863563
            maxStop 3
        }
        device [
            LinearMotor {
            name "slider_motor"
            minPosition 0.001
            maxPosition 2
            maxForce 50
            multiplier 3
            }
        ]
        endPoint Solid {
            translation -1 -0.0600029 0.11300819200386357
            rotation 0.7071017811704147 -8.704197306277629e-08 -0.7071117811673199 3.14159
            children [
            Shape {
                appearance MetalStainlessSteelCable {
                }
                geometry Mesh {
                url [
                    "../meshes/3D Fork Truck - Fork.stl"
                ]
                }
            }
            ]
            name "slider"
            contactMaterial "forkGrip"
            boundingObject Group {
            children [
                Pose {
                translation 0.29 -0.34 0.4
                children [
                    Box {
                    size 0.05 0.1 0.8
                    }
                ]
                }
                Pose {
                translation 0.29 0.34 0.4
                children [
                    Box {
                    size 0.05 0.1 0.8
                    }
                ]
                }
                Pose {
                translation -0.02 0 -0.01
                children [
                    Box {
                    size 0.4 0.8 0.1
                    }
                ]
                }
            ]
            }
            physics Physics {
            density 500
            mass 1
            }
        }
        }
        Solid {
        translation 0.24 -0.09 -0.15118
        rotation -4.7949e-09 1 1.32679e-06 3.14159
        children [
            Pose {
            translation 0.65062 2.62823e-06 -0.579379
            rotation -0.7071062811857941 0.7071072811861918 -1.0335604110025788e-06 3.14159
            children [
                Shape {
                appearance GalvanizedMetal {
                }
                geometry Mesh {
                    url [
                    "../meshes/ZED2iPikabot_ver2.STL"
                    ]
                }
                }
            ]
            }
            Shape {
            appearance Plastic {
                colorOverride IS body_color
            }
            geometry Mesh {
                url [
                "../meshes/3D Fork Truck - Body main.stl"
                ]
            }
            }
        ]
        name "body"
        boundingObject Pose {
            translation 0.1 0 -0.25
            children [
            Box {
                size 0.9 0.9 0.7
            }
            ]
        }
        physics Physics {
            mass 1
        }
        }
    ]
    physics Physics {
        density 1
        mass 1
    }
    controller "forklift_controller"
    supervisor IS supervised
    }
}
